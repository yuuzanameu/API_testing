meta {
  name: recent coordinator results
  type: http
  seq: 3
}

get {
  url: {{URL}}/api/v1/api-testing/coordinator-results
  body: text
  auth: bearer
}

auth:bearer {
  token: {{token}}
}

settings {
  encodeUrl: true
}

example {
  name: paginated results
  
  request: {
    url: {{URL}}/api/v1/api-testing/coordinator-results
    method: GET
    mode: text
  }
  
  response: {
    headers: {
      Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
      Cross-Origin-Opener-Policy: same-origin
      Cross-Origin-Resource-Policy: same-origin
      Origin-Agent-Cluster: ?1
      Referrer-Policy: no-referrer
      Strict-Transport-Security: max-age=31536000; includeSubDomains
      X-Content-Type-Options: nosniff
      X-DNS-Prefetch-Control: off
      X-Download-Options: noopen
      X-Frame-Options: SAMEORIGIN
      X-Permitted-Cross-Domain-Policies: none
      X-XSS-Protection: 0
      Access-Control-Allow-Origin: *
      Content-Type: application/json; charset=utf-8
      Content-Length: 688
      ETag: W/"2b0-VMpfynFu2BJL1iXSFD/FOytLGXY"
      Date: Tue, 25 Nov 2025 10:22:58 GMT
      Connection: keep-alive
      Keep-Alive: timeout=5
    }
  
    status: {
      code: OK
      text: 200
    }
  
    body: {
      type: json
      content: '''
        {
            "success": true,
            "message": "coordinator results retrieved",
            "data": {
                "history": [
                    {
                        "id": 1,
                        "api_id": 284,
                        "created_at": "2025-11-24T09:03:29.837Z",
                        "run_status": "failed",
                        "logs": ":x: Test failed. The GET request to endpoint 2 (https://qa-automator-staging.letest.ai/api/v1/profile) returned status code 401, but expected 200. Authentication failed - the API rejected the credentials or token. Verify authentication credentials and ensure tokens are valid and not expired.",
                        "collection_id": 16,
                        "collection_name": "Admin API",
                        "api_name": "Admin dashboard",
                        "api_url": "{{URL}}/api/v1/admin/dashboard",
                        "details": {
                            "expected_code": "200",
                            "received_code": "401"
                        }
                    }
                ],
                "total": 1,
                "page": 1,
                "limit": 10,
                "total_pages": 1
            }
        }
      '''
    }
  }
}

example {
  name: history of specific api
  
  request: {
    url: {{URL}}/api/v1/api-testing/coordinator-results?api_id=284
    method: GET
    mode: text
    params:query: {
      api_id: 284
    }
  }
  
  response: {
    headers: {
      Server: nginx
      Date: Tue, 25 Nov 2025 10:43:36 GMT
      Content-Type: application/json; charset=utf-8
      Content-Length: 1251
      Connection: keep-alive
      Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
      Cross-Origin-Opener-Policy: same-origin
      Cross-Origin-Resource-Policy: same-origin
      Origin-Agent-Cluster: ?1
      Referrer-Policy: no-referrer
      Strict-Transport-Security: max-age=31536000; includeSubDomains
      X-Content-Type-Options: nosniff
      X-DNS-Prefetch-Control: off
      X-Download-Options: noopen
      X-Frame-Options: SAMEORIGIN
      X-Permitted-Cross-Domain-Policies: none
      X-XSS-Protection: 0
      Access-Control-Allow-Origin: *
      ETag: W/"4e3-8MCCGMCln84hwIqlSI7M18EKUIA"
    }
  
    status: {
      code: OK
      text: 200
    }
  
    body: {
      type: json
      content: '''
        {
            "success": true,
            "message": "coordinator results retrieved",
            "data": {
                "history": [
                    {
                        "id": 5,
                        "api_id": 284,
                        "created_at": "2025-11-25T10:43:24.394Z",
                        "run_status": "failed",
                        "logs": ":x: Test failed. The GET request to endpoint 2 (https://qa-automator-staging.letest.ai/api/v1/profile) returned status code 401, but expected 200. Authentication failed - the API rejected the credentials or token. Verify authentication credentials and ensure tokens are valid and not expired.",
                        "collection_id": 16,
                        "collection_name": "Admin API",
                        "api_name": "Admin dashboard",
                        "api_url": "{{URL}}/api/v1/admin/dashboard",
                        "details": {
                            "expected_code": "200",
                            "received_code": "401"
                        }
                    },
                    {
                        "id": 1,
                        "api_id": 284,
                        "created_at": "2025-11-24T09:03:29.837Z",
                        "run_status": "failed",
                        "logs": ":x: Test failed. The GET request to endpoint 2 (https://qa-automator-staging.letest.ai/api/v1/profile) returned status code 401, but expected 200. Authentication failed - the API rejected the credentials or token. Verify authentication credentials and ensure tokens are valid and not expired.",
                        "collection_id": 16,
                        "collection_name": "Admin API",
                        "api_name": "Admin dashboard",
                        "api_url": "{{URL}}/api/v1/admin/dashboard",
                        "details": {
                            "expected_code": "200",
                            "received_code": "401"
                        }
                    }
                ],
                "total": 2,
                "page": 1,
                "limit": 10,
                "total_pages": 1
            }
        }
      '''
    }
  }
}

example {
  name: specific run details
  
  request: {
    url: {{URL}}/api/v1/api-testing/coordinator-results?run_id=6
    method: GET
    mode: text
    params:query: {
      run_id: 6
    }
  }
  
  response: {
    headers: {
      Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
      Cross-Origin-Opener-Policy: same-origin
      Cross-Origin-Resource-Policy: same-origin
      Origin-Agent-Cluster: ?1
      Referrer-Policy: no-referrer
      Strict-Transport-Security: max-age=31536000; includeSubDomains
      X-Content-Type-Options: nosniff
      X-DNS-Prefetch-Control: off
      X-Download-Options: noopen
      X-Frame-Options: SAMEORIGIN
      X-Permitted-Cross-Domain-Policies: none
      X-XSS-Protection: 0
      Access-Control-Allow-Origin: *
      Content-Type: application/json; charset=utf-8
      Content-Length: 694
      ETag: W/"2b6-g7cIZcqhoTVNzMWCWIFBtr8zGnI"
      Date: Tue, 25 Nov 2025 11:09:11 GMT
      Connection: keep-alive
      Keep-Alive: timeout=5
    }
  
    status: {
      code: OK
      text: 200
    }
  
    body: {
      type: json
      content: '''
        {
            "success": true,
            "message": "coordinator results retrieved",
            "data": {
                "history": [
                    {
                        "id": 6,
                        "api_id": 284,
                        "created_at": "2025-11-25T11:07:08.485Z",
                        "run_status": "failed",
                        "logs": "Test failed. The GET request to endpoint 284 (https://qa-automator-staging.letest.ai/api/v1/admin/dashboard) returned status code 401, but expected 200. Authentication failed - the API rejected the credentials or token. Verify authentication credentials and ensure tokens are valid and not expired.",
                        "collection_id": 16,
                        "collection_name": "Admin API",
                        "api_name": "Admin dashboard",
                        "api_url": "{{URL}}/api/v1/admin/dashboard",
                        "details": {
                            "expected_code": "200",
                            "received_code": "401"
                        }
                    }
                ],
                "total": 1,
                "page": 1,
                "limit": 10,
                "total_pages": 1
            }
        }
      '''
    }
  }
}

example {
  name: search param
  
  request: {
    url: {{URL}}/api/v1/api-testing/coordinator-results?search=Admin
    method: GET
    mode: text
    params:query: {
      search: Admin
    }
  }
  
  response: {
    headers: {
      Content-Security-Policy: default-src 'self';base-uri 'self';font-src 'self' https: data:;form-action 'self';frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests
      Cross-Origin-Opener-Policy: same-origin
      Cross-Origin-Resource-Policy: same-origin
      Origin-Agent-Cluster: ?1
      Referrer-Policy: no-referrer
      Strict-Transport-Security: max-age=31536000; includeSubDomains
      X-Content-Type-Options: nosniff
      X-DNS-Prefetch-Control: off
      X-Download-Options: noopen
      X-Frame-Options: SAMEORIGIN
      X-Permitted-Cross-Domain-Policies: none
      X-XSS-Protection: 0
      Access-Control-Allow-Origin: *
      Content-Type: application/json; charset=utf-8
      Content-Length: 694
      ETag: W/"2b6-vxUJQiiktP70O8WLQF4ktbQkoA0"
      Date: Tue, 25 Nov 2025 11:22:28 GMT
      Connection: keep-alive
      Keep-Alive: timeout=5
    }
  
    status: {
      code: OK
      text: 200
    }
  
    body: {
      type: json
      content: '''
        {
            "success": true,
            "message": "coordinator results retrieved",
            "data": {
                "history": [
                    {
                        "id": 7,
                        "api_id": 284,
                        "created_at": "2025-11-25T11:13:33.822Z",
                        "run_status": "failed",
                        "logs": "Test failed. The GET request to endpoint 284 (https://qa-automator-staging.letest.ai/api/v1/admin/dashboard) returned status code 401, but expected 200. Authentication failed - the API rejected the credentials or token. Verify authentication credentials and ensure tokens are valid and not expired.",
                        "collection_id": 16,
                        "collection_name": "Admin API",
                        "api_name": "Admin dashboard",
                        "api_url": "{{URL}}/api/v1/admin/dashboard",
                        "details": {
                            "expected_code": "200",
                            "received_code": "401"
                        }
                    }
                ],
                "total": 1,
                "page": 1,
                "limit": 10,
                "total_pages": 1
            }
        }
      '''
    }
  }
}
